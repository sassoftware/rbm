rBuilder Mirror Installation Quick Start Guide

This document describes the steps necessary to install the rBuilder
software appliance on the hardware you've provided.

Prerequisites
-------------

Before you begin, make sure you have the necessary hardware and network
connectivity in place, namely:

    o A network-connected dedicated x86 server with at least 40GB of local
      storage, a CD-ROM or DVD-ROM drive.  The server must be configured to
      boot from the CD-ROM/DVD-ROM.

      NOTE: rBuilder Mirror is packaged as a software appliance.  As such,
      it is configured to run on dedicated hardware, including all
      locally-attached disk storage.  DO NOT INSTALL ON HARDWARE CONTAINING
      DATA YOU WISH TO KEEP -- THIS INSTALLATION WILL WIPE ALL LOCAL
      STORAGE!

    o A network connection for the server with either a static or dynamic
      IP address accessible by an unchanging fully-qualified domain name
      (the FQDN we will use throughout this document is
      mirror.example.com)

    o A network-connected system capable of running a Web browser

Installation Procedure
------------ ---------

Now that you have the necessary materials available, it is time to install
the rBuilder Mirror:

1. Insert the rPath rBuilder Mirror CD-ROM into the server's CD-ROM
   drive and boot the computer, ensuring that it boots from the CD-ROM.

    WARNING: PERFORMING THIS INSTALLATION WILL DELETE ALL PRE-EXISTING DATA
    ON THIS SYSTEM!

2. Follow the on-screen instructions during the installation, taking care
   to note the following points related to filesystem creation:

    o During installation, you can choose to automatically or manually
      partition the system.  In most cases, you should choose the default
      (which is to automatically partition) -- you will be given the
      opportunity to review and, if necessary, modify the the default
      partitions.

*** FIXME -- Is this correct? ***

    o The rBuilder Mirror stores all its data under /srv/; a dedicated
      filesystem with sufficient storage must be allocated for this
      purpose.  Note that the default partitioning settings allocate the
      bulk of the system's local storage to /srv/ for you.  However, should
      you wish to place the Mirror-specific data on network-attached
      storage that more easily integrates with your organization's IT
      infrastructure, you can modify the settings so that /srv/ is an
      NFS-mounted filesystem.

3. When the installation finishes, reboot (making sure to configure the
   system to boot from its primary disk drive).

Initial Configuration
------- -------------

Next, you must configure the rBuilder Mirror to reflect your
organization's environment:

1. When the server has finished booting, use a Web browser to access the
   server.  Use a URL in the form "http://mirrot.example.com/", replacing
   "mirror.example.com" with your server's fully-qualified domain name.

   NOTE: you MUST use the fully-qualified domain name to access the server!

*** FIXME -- The remainder of this section is probably not required ***


2. Next, the rBuilder Mirror configuration dialog appears.  Fill in
   following fields as appropriate for your organization:

    o Branding -- The fields in the "Branding" section are used to both
      identify the rBuilder Mirror in communications with its users, and
      to link the appliance to your organization's website.

    o Server Setup -- These fields, when combined, form the fully-qualified
      domain name for the rBuilder Mirror.  Initially, these fields
      contain values for hostname and domain extracted from the rBuilder
      Mirror's network configuration; change them if necessary (for
      example, if you are performing the initial installation and
      configuration on a network different from the one where the appliance
      will be deployed).

    o Repository Setup -- This field should be set to a value appropriate
      for your intended Conary usage.  For example, the rPath Linux
      development branch is "rpl:devel", while the rPath Linux 1 branch is
      "rpl:1".  rPath strongly recommends entering "rpl:1" here.

      *** FIXME -- Do we still strongly recommend rpl:1? ***

    o Initial Administrator Account -- These fields define the username,
      password, and email address of the rBuilder Mirror's first
      administrator.  An account with this information will be created that
      will have complete access to the rBuilder Mirror environment.

      NOTE: Additional accounts with administrative privileges can be
      created later.

3. Click on the "Save Changes" button to save your configuration.

4. Once the configuration process is complete, a new page will be
   displayed.  Click on the "Launch" button to start the rBuilder
   Mirror, making it available to your users.  After a short delay you
   will be directed to the main rBuilder Mirror home page.

*** FIXME -- this needs to be updated to reflect reality ***

rAA Configuration
--- -------------

Now that the rBuilder Mirror is up and running, it is time to configure
it from a system-level perspective.  For that, it is necessary to use the
Mirror's rAA (rPath Appliance Agent) interface  rAA makes it possible
for your rBuilder Mirror to receive updated software, and perform other
system-level tasks:

1. Log in using the username and password you specified for in the
   configuration dialog's "Initial Administrator Account" section. Click on
   the "Site Administration" link at the bottom of the orange box on the
   right.

2. The rBuilder Mirror administration menu is now displayed.  Click on
   the "Entitlements, Updates, and Other System Operations" link to launch
   the system-level administrative interface.

3. A new browser window will be launched.  You may see warning messages
   about the certificate being used not being created by a recognized
   Certificate Authority; this is normal.

4. The rAA "sign in" box appears in the new window.  Sign in using the
   following information (you will be changing the password in a moment):

    o Username: admin
    o Password: password

5. The rAA interface is now displayed.  Because this is the first time rAA
   has been used on your rBuilder Mirror, you will be directed through
   the rAA Wizard to perform the necessary first-time configuration.  Click
   on the "OK" button.

6. Next, the rAA Wizard steps your through the following configuration
   dialogs:

    o Change Password -- Enter the current rAA administrator password and
      the new password.  Click on the "Change Password" button.

    o Email Configuration -- Enter the FQDN of the system that accepts
      email sent within your organization, and an email address should be
      used as the "from" address for all email sent by rAA.  Click on the
      "OK" button.

    o Email Notification Addresses -- Follow the on-screen instructions to
      add one or more email addresses that should receive email
      notifications from rAA.  When finished, click on the "OK" button.

    o Entitlement Management -- Entitlements control access to software
      updates for the rBuilder Mirror.  Enter the rBuilder Mirror
      entitlement you've received, and click on the "Apply" button.

7. No further rAA configuration is necessary at this time.  Click on the
   "logout" link on the right side of the upper navigation bar, and close
   this browser window.

*** FIXME -- Discuss any additional required configuration (like
    setting up a mirroring user? -- under a new section here ***

Additional Notes
---------- -----

The following notes contain information about your rBuilder Mirror:

    Text editor -- Your rBuilder Mirror includes the nano text editor.
    Under normal circumstances it should not be necessary to directly edit
    files (all normal configuration is done via the Web-based
    administrative interface), but should the need arise the editor can be
    launched by entering the "nano" command.
